# PNPM configuration for optimal monorepo performance

# Strict dependency resolution
strict-peer-dependencies=false
auto-install-peers=true

# Hoisting configuration
# Hoist all dependencies except problematic ones
shamefully-hoist=true
public-hoist-pattern[]=*eslint*
public-hoist-pattern[]=*prettier*
public-hoist-pattern[]=*babel*
public-hoist-pattern[]=*jest*
public-hoist-pattern[]=*react*
public-hoist-pattern[]=*typescript*
public-hoist-pattern[]=@types/*

# Never hoist these packages
public-hoist-pattern[]="!*convex*/_generated"

# Package installation settings
save-exact=true
save-workspace-protocol=rolling
prefer-workspace-packages=true
shared-workspace-lockfile=true

# Performance optimizations
prefer-offline=true
network-concurrency=16
fetch-retries=3
fetch-retry-factor=2
fetch-retry-mintimeout=10000
fetch-retry-maxtimeout=60000

# Security settings
engine-strict=true